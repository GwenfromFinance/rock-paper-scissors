<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <div>
        <button id="rock">Rock</button>
        <button id="paper">Paper</button>
        <button id="scissors">Scissors</button>
    </div>

    <div class="outcome"></div>

    <div class="runningscore"></div>

    <script>
        let humanScore = 0;
        let computerScore = 0;

        const rockbutton = document.querySelector("#rock");
        const paperbutton = document.querySelector("#paper");
        const scissorsbutton = document.querySelector("#scissors");
        const outcomeDiv = document.querySelector(".outcome");
        const scoreDiv = document.querySelector(".runningscore");

        function getComputerChoice() {
            let randomNumber = Math.floor(Math.random() * 100) + 1;
            let computerChoice;

            if (randomNumber < 33) {
                computerChoice = "rock"; // Rock
            }
            else if (randomNumber >= 33 && randomNumber < 66) {
                computerChoice = "paper"; // Paper
            }
            else {
                computerChoice = "scissors"; // Scissors
            }
            
            return computerChoice; // Return computer's choice
        }

        function playRound(humanChoice, computerChoice) {
            // Clear the outcome div from any previous result
            outcomeDiv.innerHTML = ""; 

            if (humanChoice === computerChoice) {
                const p = document.createElement("p");
                p.innerText = "It's a draw!";
                outcomeDiv.appendChild(p);
            }
            else if (humanChoice === "rock" && computerChoice === "paper") {
                const p = document.createElement("p");
                p.innerText = "Paper beats Rock, you lose!";
                computerScore++;
                outcomeDiv.appendChild(p);
            }
            else if (humanChoice === "rock" && computerChoice === "scissors") {
                const p = document.createElement("p");
                p.innerText = "Rock beats Scissors, you win!";
                humanScore++;
                outcomeDiv.appendChild(p);
            }
            else if (humanChoice === "paper" && computerChoice === "rock") {
                const p = document.createElement("p");
                p.innerText = "Paper beats Rock, you win!";
                humanScore++;
                outcomeDiv.appendChild(p);
            }
            else if (humanChoice === "paper" && computerChoice === "scissors") {
                const p = document.createElement("p");
                p.innerText = "Scissors beats Paper, you lose!";
                computerScore++;
                outcomeDiv.appendChild(p);
            }
            else if (humanChoice === "scissors" && computerChoice === "rock") {
                const p = document.createElement("p");
                p.innerText = "Rock beats Scissors, you lose!";
                computerScore++;
                outcomeDiv.appendChild(p);
            }
            else if (humanChoice === "scissors" && computerChoice === "paper") {
                const p = document.createElement("p");
                p.innerText = "Scissors beats Paper, you win!";
                humanScore++;
                outcomeDiv.appendChild(p);
            }

            updateScores();
            displayWinner();
        }

        function playGame(humanChoice) {
            const computerChoice = getComputerChoice(); // Get computer choice once
            console.log(humanChoice);
            console.log(computerChoice);

            playRound(humanChoice, computerChoice); // Play a single round
        }

        function updateScores() {
            scoreDiv.innerHTML = `Human Score: ${humanScore} - Computer Score: ${computerScore}`;
        }

        // Event listeners to capture the button clicks
        rockbutton.addEventListener("click", () => {
            playGame("rock");
        });

        paperbutton.addEventListener("click", () => {
            playGame("paper");
        });

        scissorsbutton.addEventListener("click", () => {
            playGame("scissors");
        });

        function displayWinner() {
            if (computerScore === 5) {
                const p = document.createElement("p");
                p.innerText = "The Computer wins!";
                outcomeDiv.appendChild(p);
            }
            else if (humanScore === 5){
                const p = document.createElement("p");
                p.innerText = "The Player wins! Congratulations";
                outcomeDiv.appendChild(p);
            }
        }
    </script>
</body>
</html>